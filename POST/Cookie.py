import requests
from lxml import etree

class Login(object):
    def __init__(self):
        self.url = 'https://aistudio.baidu.com/aistudio/index'
        self.headers = {
            'Cookie':'BIDUPSID=A6EAB1E7A8479CE2C9D8D6A8EDF07CC3; PSTM=1621773632; __yjs_duid=1_3355f798d5976644e28efc80953e65861621773891962; BDUSS=lFPakhLTHh5UlRvdnNmRnhPRW5rZ3BafmxSLVdoeWsySlpXdzh2ZUZTRm9xVnRpRVFBQUFBJCQAAAAAAAAAAAEAAAB8lL8t0eDOsLizAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGgcNGJoHDRiV; BDUSS_BFESS=lFPakhLTHh5UlRvdnNmRnhPRW5rZ3BafmxSLVdoeWsySlpXdzh2ZUZTRm9xVnRpRVFBQUFBJCQAAAAAAAAAAAEAAAB8lL8t0eDOsLizAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGgcNGJoHDRiV; BAIDUID=5265E8FF031329FF331AE80A1F6CB363:SL=0:NR=10:FG=1; H_WISE_SIDS=110085_127969_179348_180636_188745_189755_190620_194085_194519_194530_196428_197711_199574_204912_205858_207237_207697_208721_209518_209568_210295_210323_212295_212870_213078_213094_213272_213362_213540_213868_214094_214205_214596_214604_214641_214797_215070_215127_215176_215554_215731_215861_215892_215960_216040_216253_216307_216334_216342_216354_216447_216570_216596_216651_216676_216853_216883_216927_216963_217148_217167_217184_217230_217401_217411_217439_217452_217651_217760_218031_218247_218276_218326_218330_218396_218459_218539_218598_218620_218661_218957_218964; H_WISE_SIDS_BFESS=110085_127969_179348_180636_188745_189755_190620_194085_194519_194530_196428_197711_199574_204912_205858_207237_207697_208721_209518_209568_210295_210323_212295_212870_213078_213094_213272_213362_213540_213868_214094_214205_214596_214604_214641_214797_215070_215127_215176_215554_215731_215861_215892_215960_216040_216253_216307_216334_216342_216354_216447_216570_216596_216651_216676_216853_216883_216927_216963_217148_217167_217184_217230_217401_217411_217439_217452_217651_217760_218031_218247_218276_218326_218330_218396_218459_218539_218598_218620_218661_218957_218964; jsdk-uuid=e372922a-5bf6-42f4-8d99-f949bcdcbaf7; Hm_up_6b7a9d245c3be48de953790e7b6aea6b={"user_reg_date":{"value":"20221101","scope":1},"user_course_rt":{"value":"非课程用户","scope":1},"user_center_type":{"value":"","scope":1}}; MCITY=-180:; ai-studio-lc=zh_CN; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BA_HECTOR=8h84052gal2ga18laka50q631hnu55m1e; delPer=0; PSINO=5; BAIDUID_BFESS=5265E8FF031329FF331AE80A1F6CB363:SL=0:NR=10:FG=1; ZFY=Pb9ZvpreeQGnCpqVH1XD8OPNpBpw1DK6be8u7x4TMF4:C; BDRCVFR[feWj1Vr5u3D]=I67x6TjHwwYf0; H_PS_PSSID=36555_37554_37515_37774_37628_37778_37796_37836_37713_37740_26350_37488; ai-studio-ticket=62135884A7FD4925B07BF5C2D616F1ECE888AD6B09554FD2BBA8FCF8BC245221; Hm_lvt_6b7a9d245c3be48de953790e7b6aea6b=1667293523,1668045953,1668777808,1669279644; Hm_lpvt_6b7a9d245c3be48de953790e7b6aea6b=1669279644'.encode("utf-8").decode("latin1"),
            'User_Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.56'
        }

    
    def get_html(self):
        html = requests.get(url=self.url,headers=self.headers).text
        print(html)
        self.parse_html(html)
    
    def parse_html(self,html):
        parse_html = etree.HTML(html)
        nickname = parse_html.xpath('//div[@class="h-p-user-text"]/text()')
        print(nickname)

if __name__ == '__main__':
    spider = Login()
    spider.get_html()

    

































